# 分类器评价指标 

## 背景
假设我们有100张肿瘤的依赖照片，其中90张照片为良性肿瘤照片，10张照片为恶性肿瘤照片。我们将恶性肿瘤照片叫做阳性样本(Positive)，良性肿瘤照片叫做阴性样本(Negetive)。

同时我们也有一个肿瘤图片的分类器，我们通过这个分类器对每张肿瘤照片进行判别，最后的分类结果如下：

|真阳性(True Positive):<br>照片:恶性肿瘤 <br>预测:恶性肿瘤<br>TP数量:1  | 假阳性(False Position): <br>照片:良性肿瘤<br>预测:恶性肿瘤 <br>FP数量:5|
| :--- | :--- |
| 假阴性(False Negative):<br>照片:恶性肿瘤<br>预测:良性肿瘤<br>FN数量:9| 真阴性(True Negative): <br>照片:良性肿瘤<br>预测:良性肿瘤<br>TN数量:85|

## 准确率(Accuracy)
根据上面的实验情况，我们可以通过预测器正确预测的样本数和总样本的比率衡量其准确率：
$$
Accuracy = \frac{TP+TN}{TP+FP+TN+FN} = \frac{1+85}{1+9+85+5} = 0.86
$$

单看这个准确率这个指标，这个分类器其实已经不错了，已经可以使用了。但是真的是这样的吗？

我们发现10个恶性肿瘤实际只预测对了1个案例，剩下9个案例都预测错了，如果只论恶性肿瘤的案例的话， 其准确率只有
$$
\frac{TP}{P} = \frac{1}{10} = 0.1
$$
如果看这个指标，那么该预测器是完全不可以接受的，只有10%的恶性肿瘤会被识别出来。

深入观察之后，可以发现整体准确率的0.86更多来自于良性照片的贡献，说明这个预测器更擅长识别良性肿瘤图片，但是对于恶性肿瘤而言，这个预测器就不擅长了。而恰好我们的数据的正负样本比例是失衡的(1:9)，导致了$Accuracy$和0.1这个指标的巨大差异。那么这个指标也是我们需要考虑的一个问题，为此我们将该指标称为召回率。

## 召回率(Recall)
根据以上分析，我们在一些场景更关心一个预测器仅对于阳性样本上的预测准确性，为此我们提出召回率($Accuracy$)的指标，其计算公式如下：
$$
Recall = 
\frac{TP}{P}=\frac{1}{10}
$$
其中$TP$代表的是预测器正确识别的阳性样本数量，$P$表示那些为阳性的样本数量。召回率的实际含义为，预测器的正阳性数与阳性样本之间的比值。

$FN$表示预测器错误识别的阴性样本数量，说明这些样本为阳性但是被预测额器识别成了阴性。根据这三个变量的定义，我们可以得到以下公式：
$$
\begin{align*}
TP+FN &= P \\ 
1 + 9 &= 10
\end{align*}
$$
所以召回率也可以写为:
$$
Recall = 
\frac{TP}{TP+NF}
$$

## 精确率(Precision)
现在我们在来考虑一个问题，由于预测器的结果又对有错，如果这个预测器输出一个样本为阳性样本，那么这个结果的可信度怎么衡量？

为了衡量这个可信度，最直观的计算方法如下：
$$
\frac{真阳性}{真阳性+假阳性} = \frac{1}{1+5} = \frac{1}{6}
$$
我们以上值定义为准确率($Precision$):
$$
Precision = \frac{TP}{TP+FP}
$$
准确率用于衡量一个模型输出阳性样本的可信度。
